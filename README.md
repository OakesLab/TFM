# TFM (Traction Force Microscopy)

This code performs the Fourier Transform Traction Cytometry to calculate the forces generated by an adherent cell on a flexible substrate. This analysis is all built upon previous published approaches which can be found in the following (not exhaustive) citations:
1. [Butler et al. Traction fields, moments, and strain energy that cells exert on their surroundings. Am J Physiol Cell Physiol. 282(3):C595-605 (2002)](https://pubmed.ncbi.nlm.nih.gov/11832345/)
1. [Sabass et al. High resolution traction force microscopy based on experimental and computational advances. Biophys J. 94(1):207-220 (2008)](https://pubmed.ncbi.nlm.nih.gov/17827246/)
1. [Huang et al. Traction force microscopy with optimized regularization and automated Bayesian parameter selection for comparing cells. Computer Physics Communications 256:107313 (2020)](https://pubmed.ncbi.nlm.nih.gov/30679578/))

## Required packages
1. python, numpy, scikit-image, scipy, pandas, opencv, openpiv, matplotlib, jupyter

## Optional packages
1. sksparse (required for the bayesian calculation of the optimal order parameter - adapted from [Huang et al. Computer Physics Communications 256:107313 (2020)](http://dx.doi.org/10.1016/j.cpc.2020.107313))
  - For Mac users: `conda install -c conda-forge scikit-sparse`
  - For Windows: It's complicated. See here for details: https://github.com/EmJay276/scikit-sparse

## Example Data

An example data set can be found here: https://drive.google.com/drive/folders/1rjT-NBQa5KlbHhyusQjkwwKu96_kNEzV?usp=sharing

It consists of a cell (`488.tif` and `561short.tif`) along with the beads (`640long.tif`) and the reference image of the beads with the cell removed (`640long_reference.tif`). The gel has a shear modulus of 16 kPa. There is also a folder containing the flatfield images used for image correction. 

## Example Jupyter notebook

An example Jupyter notebook is included in the repository to illustrate the workflow
